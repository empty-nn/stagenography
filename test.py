import time
from PIL import Image
from stegano import lsb
from pvd import hide_pvd, reveal_pvd
from MatrixEmbedding import encode_matrix_embedding, decode_matrix_embedding

# Load the image
image_path = "test2.png"

# Load the message
message = "OiEiyJQz3MgAX1ioDhDvlEP0Xj4Io4O1wddNhuKYqPMrEUC17OVWVIRmFN11tPHDJefb9Untk9ZD2dijvgVtq0Z2nwLTv9kGVquNXGh0c2RRSbsTvriYsIc7Qbh6AfJt4Ba56poJCOuQ1SPXvwqr74dC7deIFu2yRXFhy3qWmwYCX6vKWyD6x3b560Zkhnw0KIrxdFcDciz6K2wUvUTaFhDYgaSDRYX1Q0AuTyvy4EP05nPYcObdmPUMk2j9waV7NffJwe4QomzzvSY8x9JEE8fBhRH3swwgFjIKFNsxSixsepnpOeCaPreN53HnsTT0C23wqlnktoFRNH2yhFxAeQXWecoo0qzFMY1IUSdVkUkGXVKlEG132vxZhy4FCubjxfhUCn8rFlFlJot8u6dKwIt7prbD1sRtyIXZELGuVM93wA3HmKIsR9ludqLaFTc71A15nMZmoauKRyMBvbmoXwOSLpnQyNYJvTALzB71hzd6h5WdcqLpgHxajux3EjV29WzAbtWlTO7jMdSETa5mVYW6LeRbhSQs4wZU9S5jM4gVgyOL9u60FEyYfcH9APFUVcXS7dSkNOLkAien74jwFqSwVoooXinOJloOWMVdiFwdNXu6aUyrkwuiTFpbioLEn0GcI23aUkA5L8pJzB3cmR2H96VLcIpMLZQ5O1GUbH9keFOzoILZvXyAAL1iHmqnHMnMm65c2SUi7ILJkdt774RJvbJM3uduu1F0FfCBbV9RuBcyL9iJ4iLo3RftHPu8PSihzx51b9zq3zRhMLcJRudEbZF9FOvtdRKWgGVNZYEUag7WLhBofBfxpBX0GMW3fNT02fAlUc5h6sHKJF0OLP85q8XqjOnrrkSHaJ1Ffh4nBNAxXKyxYvEEsnS9uqK4Ncf771V54SyLGTHPD7PM2h24l8o0S4hyKQ7hWs3F7AtYGDaGI4Ux3raodeokLFEQ4t6Gg7qrqiXr9zbU2Dp2PuszENluKbzHkrpa8aTX2ZObTiMSEgpk5u77gSBhmsU4H5Tw4RS8Tq2W6P4H58vtVWO0M2gCATnhO7qMPKOk8qfseyUd8imLMXgEeUKQJcYAbSodZKST8Htk2JEQ4NI87okn63pgcUfbEYCOlSd5teNAua2YDd2hjT8bFL6I0xLRSSPkdQtKWEzaqg8WHCK0R3DXzfw2G48p77Na7v9G03To1rZ4g70bplYU2ig98wGZForfH7SvYigSJUVkjPSpDUYANqeF8GfDcAaiyOd9RcXMNVSHBk1UyEI8stsF3m18nx09I3T3MJ4Fr0YI4kdCKsEA92iHI3G6VUj4NVdXgYH3VbRJ9vf1BJBOZCYT2EW50ZEIyUV9XemmEqOimJcsRq6yE1SDpk3vURc3QmdLg6W0UjKwQRR4oAPDKroxuMwz7ja08k4N5vB1yfsAqNuCNvRapsHp9lSXwUKoK8MhLhp6OYk3zayqpN81ip9vAgidkHPTTVwb8VIRmtZSv7pl6HEMKd5wDiVeAx7gjgzZ3wCFxCLZndORpEhblFqd04gfEpjoKR4AJLO0A1ltLKMMN9UHin9QSXJRXgFOaCMNWy4eC5jxqHEOHsDphUIkFYVtL7b9hNKXML8yRCkSOdYEiuTx3udzWJoUCTZt7yVZBBsY7lkpRTxA4kBajJlfutXwEDeQ2wTK0USN5qdcxD6e1RNLDi5IKcc9TIaleHWTUU6YOgO9Yum8cOPgOwRZsfUJ7cCLFsD7nM1AsU0M82t6t3PJUtd7CnxEj1lTR57OM808fn4NjtB4x0NrD10t3o4WDXwLUv92vAndzr5SwAJ38OP1Dm7PgGxpmrsPZnUkzUSoj0LgbJZXmDBBezKdb0I9D85QaRudLrFS5hMv87E7m56aFo7A5nrA0P7zi4WH0vOo97Zjnfhmod7mIdS0PbdeJZ4E9uUNJR3q8ZH5hwe2msvlqPNSEx8CRGu9BTeO4jCUkb8siVi7AWETCfB8YG9YQlFfLWexznxyz5bdbPSfBJtFHCLcLl4jCH4Ck9X6dgwB4Hyqj7FrS747D2PHLy66S3EZclNnPSvw9FvllubsKrc7BjcZa1t0WqhbJsodVc6duGqsBO4qBwXt7UWHqJ57Tten6W09bSp7ZiBQELbnLQUmThAM0LNNAeB4Yw0rymuquQrwgMkOi8c7d0xcyvfRvU1lqlAaFDzBq5EyTAfIgTC1oJGbyAs0cxLu7L3utBO2RRxcijdcq9hTOXUuLDDg7zk3lXxspjNjmLIfg6JgmnAW2JX6y5d1XfPqYyzvcQf87WCw92ebOKZk8H1LF0gIKpOOD1swa1bqish6kS6N3DXvr0JJ8rLQt2BQroSHmIUZne7sr4udf89dC932ONspcN19hdDEWVwT9zi5QjXYN9TwVre8YSB08Gk03kOKNtLBpHYx2BPXRPArso3YfXVOydaNurnX6b8umS8eSk0jKpT92TkTxQPn5Tq3lZjAEDyRr7ahfP2XJ4rjubhdWp0fsIaRTMpidLlvSrlhx5wGImmg24cDKnX7OyF2vcAUzzwXoQz73NLG5UpOx2B5Iy8Z2uhU9PONrHJiLnTRwwQkCfvQOdQlwhn4g0sIKVXNKg98eDhD7m5M3xb6zQVESVUmPPWoslfFaZ9tYY90PDG4wOE2clqUG7l01L56nH2A4g0chHwI9ceUb8IOZPtiKLEAyjmRmIPmpevTShe2l30IKmZhIOVQK6fP2qR2L0RmDeyAZfIWDwipltmp4hTAdHZJSlXYxgszhGJthBDOGkkYPIKfZBQydX1nV7f40MqmS9HfAmBzcuoFBqMjh3YG7RxZrUpHUeXfziYUDibAo7EAoNm10sT2taiykndtJnYQ7ryNx8zbK8YaPUCsPqa9owyXyKZmfSVFGOr4ZZzKT94vT5EPqEOzgaNtztv8POVhlPBIiZVwP1MIaKiBA0ZbDiuYxVqk2J5J7m9T5OfvTUsf8RMK1CZgAbPMFeoSBn2U8RcFlr1n8ai1CgRzRiNVvxw2tJ9hRTsmmbenfWAxD2HyhCopJOWOsGoizVdDfCrUu1iZgaOB5a43mSEi02vCpqAbK77XjrZFElldOaA2rWCluY405t9pHrtQrw7hvq0mHMXvtR6c3YS7DAAOBZfRhwBjEbcZhrosmczLf9dVIwUbYfF6U4T2kSnJo3aRtB5ozESJLjSdi2GSiXRFOUZnyj3EDHsWRW4yXFVDNB7SW4YZ2swKO9bZSlqfyRCleyqJQ2EMHMhpIr6rFUe7MLVUoEgVAVSts7QRvTvHr1zge1DUxujJlO1si4UXDzY7W1oFz8RCs18iKts8u197swXNNwGS6tssvX4BbpEfQKvE4v70ufERkHUqxt1K9PB9WOfKTRrKxD3g8tMEkK3RwpaH1fofRrsiR2FdRPzc3lduN8rFako6dJEtUqe4pnDwIFDJAS1lQI3iEKYBrPu8suP2IUzafukHmRDaGTad6D9gT73QkRVU6Y9ZRMK2ODxECFBaoMZxGj4RHJumcXrxiBaOZJWIWMV10VvcAmso70bOSl1IXhl0kNiGHDEXQdt78vN63O1vhNHfse93M5aIqkl8UItQrP0UzSzu9fJ4BJx4qV6MMqdJ6nV9ABT6EYJMkhaHoUzvE2ZGr4rlXBDp5jUcQMCcWHCo3UbsSLlEMIc1t6uVTfYGiDmIA432FjXMYxIzvMBcB723pZwMURBCubRDcYH8P1nzzRpRm5L1qFWTxVguegoMfMdR23fII0zDCpeqcgEYiwcNdfzg3xZsTN9RMdrToAtTBEUXk4bRKaVWKitJ5L4MYPg41VyDrbCXcaTAEhEo35ytzI4h3XTZs4bZPHO4l2t7IkPKNdEklzieIyz0mrmbbU3ip71Zat0AgG1WOrdxgoYTHU6aZYwcDMSGw9gWX0O3L8FDCljl0Rw8lut3tBFZlIZCvHx39OoCtdIiWQGuybXIsveE3p3oTyJ9tU4D2CGDJO5qwuQZ2Qbw9XhQTKLUVtUc5WexVPSNvGsOraOYkoaNhbjUFcNEXMkuWHlVjE4whEwLETT2LW0nHrNRGyfsqZXtu8RdVwLcHC1o81Nrvz3ER9ULsBfH4cGYWRd1NdZ1DW0DvGJnxVhornpK0pAVn6PDpjeFap3kaLFKUrCIAPqFyvS777TeT5hSq3iwCwbUN7Sbja6l3N5GZrkX3j9Hpi8S2Uz6J0hAD3y3zpuSHHzl64nz5Wfhlbldp28tQZLT0lVfHIwpIWtK3sFTEBLu1LfFz5Df0fCisD3HdjGqMtu5ZHU9wlLdcGhzWSPxZAflSRSQXKi0XjgtbfewXQ40Xj1ThGfMrqQrKTaQJgNDXAjlvK1g9OyMxDM45zgS8RvHGTmxFVsA1y6VB3McEc32Jz3SKDoUmCWer2AoyyGdeWibWGCS7MLzZBKKv4KLMm5ixI9H5GehdY95xbr8MU6gnxrUAFwxzbeIfZWoGeStHLkCcyNAjKd7qzXSchtDILWgkFlbxyXP8UESZfkHA58XZuJnHbvlvrD9zx1yUUFd34GbscX50EJfwsv1AoNuj2ph36bvOlC4bZNLOIwgRyiHwNSop6HYohr6GdE09fmOYpPtUM5f8YGRAlnVz1fwvVicz9Rb9egPqQmJy8Cpu7ep5pSWwz8P4eSCFWaNfjWNoy0thjysCv9Yp4q6ePNzNerPATCY1rxdrOuC9pqw6fAABfrICcgPCC0U3u4Ca1DF6CUAP4evrtvQUWfLYJaFpNcOhhXVSstCtBhMXZ1L2gKixZLI811y0Z31WE1B0pz28BiCranSkAHdflzf5vWdVi2369XEnyISHIT8slUvkAXbRSPF2VrKOmb8Ci3HLtHLDoUpcXFGlvJGdSI0mqi1CBWpnyLTTLqQ3JsQdYpuDbAb8kProUL8st8oN8tKfXHvwmTNUdMFiXqua9YU9HnOEDyQXBuiapd4KXiZsskJk8DzKGdZlCqMHhMHERgcJu11xtZ16bdYgJh9UrmDCWok3FqpdKvp"
message_length = str(len(message))
# Time taken for LSB
start_time = time.time()
secret_lsb = lsb.hide(image_path, message)
end_time = time.time()
time_lsb_hide = end_time - start_time
secret_lsb.save(f"{message_length}_LSB_hidden2.png")

start_time = time.time()
clear_message_lsb = lsb.reveal(secret_lsb)
end_time = time.time()
time_lsb_reveal = end_time - start_time

# Time taken for PVD
start_time = time.time()
secret_pvd = hide_pvd(image_path, message)
end_time = time.time()
time_pvd_hide = end_time - start_time
secret_pvd_path = f"{message_length}_PVD_hidden2.png"
secret_pvd.save(secret_pvd_path)

start_time = time.time()
clear_message_pvd = reveal_pvd(secret_pvd_path)
end_time = time.time()
time_pvd_reveal = end_time - start_time

# Time taken for Matrix Embedding
start_time = time.time()
secret_matrix = encode_matrix_embedding(image_path, message)
end_time = time.time()
time_matrix_hide = end_time - start_time
secret_matrix_path = f"{message_length}_Matrix_hidden2.png"
secret_matrix.save(secret_matrix_path)

start_time = time.time()
clear_message_matrix = decode_matrix_embedding(secret_matrix_path)
end_time = time.time()
time_matrix_reveal = end_time - start_time

print(f"Time taken for LSB hide and reveal: {time_lsb_hide:.5f}/{time_lsb_reveal:.5f}s")
print(f"Time taken for PVD hide and reveal: {time_pvd_hide:.5f}/{time_pvd_reveal:.5f}s")
print(f"Time taken for Matrix Embedding hide and reveal: {time_matrix_hide:.5f}/{time_matrix_reveal:.5f}s")



